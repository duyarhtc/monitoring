# Monitoring Stack with PostgreSQL, Redis, Prometheus and Grafana

## Requirements
- Docker
- Docker Compose
- Git

## Quick Start
```bash
git clone https://github.com/duyarhtc/monitoring.git
cd reponame
docker-compose up -d
```

## Access Services
- Grafana: http://localhost:3000 (admin/grafana)
- Prometheus: http://localhost:9090
- PostgreSQL: port 5432 (user: postgres, password: postgres)
- Redis: port 6379
- Postgre Exporter metrics: http://localhost:9187/metrics
- Redis Exporter metrics: http://localhost:9121/metrics
  
## Configuration
- Edit `prometheus/prometheus.yml` for monitoring settings (The file directory should be updated in the docker-compose document.)
![prometheus](https://github.com/user-attachments/assets/7d36ce40-3ed9-4e71-b757-1e29bae39cef)


- Create Data Source on Grafana GUI for Prometheus
- Create Dashboard on Grafa for Postgre (Dashboard ID: 9628)
- Create Dashboard on Grafa for Redis (Dashboard ID: 763)
![grafana](https://github.com/user-attachments/assets/3189b315-207a-4f60-b3e7-0591e2577ba7)


## Test
```bash
./test_postgres.sh
```
- Output
  
![postgretest](https://github.com/user-attachments/assets/85a77078-7b73-4b1c-a417-7be1a2a8222c)

```bash
./test_redis.sh
```
- Output

![redistest](https://github.com/user-attachments/assets/8583e8c0-974e-49d1-a5a2-494269d46671)
  
## Helpful Information
- Real-time stream of resource usage statistics for running containers
```bash
docker stats
```
- Shows the current status of each service defined in your docker-compose.yml file.
```bash
docker-compose ps
```
- Displays the logs generated by a specific container
```bash
docker logs container_name
```
- Stops and removes all containers, networks, volumes, and images created by your Docker Compose application
```bash
docker-compose down
```

To see the running services on the Prometheus page, you can check the service status from the Status-Targets option.
![image](https://github.com/user-attachments/assets/8cdbdfd7-7737-40e1-a49d-3c0923ce85c9)


